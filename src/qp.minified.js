function QueryPermalink(n,i){this.squish=function(n){return n.replace(/(?:(?:^|\n)\s+|\s+(?:$|\n))/g,"").replace(/\s+/g," ")},this.param=function(n){var i=[];for(var t in n)i.push(encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return i.join("&")},this.buildUrl=function(n){return window.location.href.split("?")[0]+n},this.loadPage=function(i){if(i.length>0){var t={};t[n]=this.squish(i),location.assign(this.buildUrl("?"+this.param(t)))}},this.getQueryString=function(){var t="",e=(new QueryData)[n];return void 0!==e?t=this.squish(e):void 0!==i&&""!==this.squish(i)&&(t=i,this.loadPage(t)),t}}function QueryData(n,i){if(null==n&&(n=location.search?location.search:""),"?"==n.charAt(0)&&(n=n.substring(1)),n.length>0)for(var t=(n=n.replace(/\+/g," ")).split(/[&;]/g),e=0;e<t.length;e++){var s=t[e].split("="),o=decodeURIComponent(s[0]),r=s.length>1?decodeURIComponent(s[1]):"";i?(o in this||(this[o]=[]),this[o].push(r)):this[o]=r}}
